# ğŸ”¥ BIENVENIDOS AL INFIERNO: Sistema de GestiÃ³n AcadÃ©mica AMALIA ğŸ”¥

## âš ï¸ ADVERTENCIA CRÃTICA âš ï¸

**SI ESTÃS LEYENDO ESTO, PROBABLEMENTE HEREDASTE ESTE CÃ“DIGO. LO SENTIMOS MUCHO. REALMENTE LO SENTIMOS.**

Este no es un simple sistema de gestiÃ³n acadÃ©mica. Es un campo minado de complejidad, referencias cruzadas, actualizaciones en cascada y suficiente cÃ³digo duplicado como para hacer llorar a un senior developer.

##  Â¿QuÃ© es esta cosa?

AMALIA es un Sistema de GestiÃ³n AcadÃ©mica desarrollado con PyQt6 y Supabase. Suena simple, Â¿verdad? **MENTIRA.**

Este sistema gestiona:
- âœ… Docentes (que probablemente te culparÃ¡n si algo falla)
- âœ… Asignaturas (con relaciones que te harÃ¡n cuestionar tu carrera)
- âœ… Calificaciones (con ajustes, porque las notas simples son muy fÃ¡ciles)
- âœ… Grados (con botones expandibles que son un infierno de mantener)
- âœ… PerÃ­odos acadÃ©micos (fechas, porque no hay suficiente complejidad)
- âœ… Historial acadÃ©mico (con PDF, porque el sufrimiento debe documentarse)

### Lo que NO te dijeron:

- ğŸ”¥ Los estilos CSS estÃ¡n hardcodeados en un string de 400+ lÃ­neas
- ğŸ”¥ Los emojis en los botones pueden o no renderizarse segÃºn el sistema operativo (50/50)

---

##  TecnologÃ­as (y por quÃ© duelen)

### PyQt6
**Por quÃ© duele:** Cada widget necesita configuraciÃ³n manual. OlvÃ­date de hot-reload. Cada cmbaio requiere cerrar y reabrir la app.

### Supabase
**Por quÃ© duele:** Si las credenciales cambian, TODO deja de funcionar. Sin rollback. Sin piedad.

### Python 3.8+
**Por quÃ© duele:** Tipado dinÃ¡mico significa que descubrirÃ¡s errores EN PRODUCCIÃ“N.

### Dependencias CrÃ­ticas:
supabase==1.x  # Si actualizas, RUEGA que siga compatible
python-dotenv  # Porque las credenciales NUNCA deben estar en el cÃ³digo (pero probablemente lo estÃ©n)

## Bugs Conocidos (Y los que NO conoces)

1. **Emojis en Botones**
   - En Windows: âœ… Se ven
   - En macOS: âœ… Se ven
   - **SoluciÃ³n:** Nadie quiere tocar esto

2. **Estilos CSS Hardcodeados**
   - 400+ lÃ­neas de CSS en `setup_ui()`
   - Cambiar un color = buscar en 15 lugares diferentes
   - **RecomendaciÃ³n:** Rezar y usar Ctrl+F (Recomendacion real quitarle los estilos te deja un programa manejable)


## ğŸ›¡ï¸ CÃ³mo NO Romper Todo

### Reglas de Oro para Sobrevivir:

#### 1ï¸âƒ£ **NUNCA modifiques `delete_estudiante()` sin leer TODO el mÃ©todo**
```python
# Este mÃ©todo actualiza:
# - Tabla principal
# - Vista de grados expandida
# - Botones de grados
# - BÃºsqueda de calificaciones
# Â¿Olvidaste uno? COSAS SE ROMPEN
```

#### 2ï¸âƒ£ **SIEMPRE usa `hasattr()` antes de acceder a widgets dinÃ¡micos**
```python
# MAL
self.checkboxes_estudiantes[0].isChecked()

# BIEN
if hasattr(self, 'checkboxes_estudiantes'):
    if self.checkboxes_estudiantes:
        checkbox = self.checkboxes_estudiantes[0]
```

#### 3ï¸âƒ£ **NO toques el lÃ­mite de 50 estudiantes sin implementar paginaciÃ³n**
- O todos se quejan
- O el sistema colapsa
- O ambas

#### 4ï¸âƒ£ **Cuidado con los QTimer**
```python
# Si usas lambdas con variables locales
# COPIA LA VARIABLE PRIMERO
grado_actual = grado_info.copy()  # âœ…
QTimer.singleShot(100, lambda: self.show(grado_actual))
```

#### 5ï¸âƒ£ **Antes de commitear, prueba:**
- [ ] Crear estudiante
- [ ] Editar estudiante
- [ ] **ELIMINAR estudiante** (el mÃ¡s crÃ­tico)
- [ ] Mover estudiante de grado
- [ ] Mover mÃºltiples estudiantes
- [ ] Buscar calificaciones

## â“ FAQ (Preguntas Frecuentemente Aterrorizantes)

### P: Â¿Por quÃ© hay cÃ³digo duplicado?
**R:** Nadie lo sabe. Probablemente un merge conflict que se resolviÃ³ con "aceptar ambos cambios".

### P: Â¿Puedo usar un framework CSS moderno?
**R:** TÃ©cnicamente sÃ­. PrÃ¡cticamente, tendrÃ­as que reescribir TODO el sistema de estilos.

### P: Â¿Los QTimer son necesarios?
**R:** SÃ­. PyQt6 a veces necesita "respirar" entre operaciones de UI. Sin ellos, las actualizaciones no se reflejan.

### P: Â¿QuÃ© pasa si Supabase cambia su API?
**R:** ğŸ”¥ğŸ”¥ğŸ”¥ TODO EXPLOTA ğŸ”¥ğŸ”¥ğŸ”¥

### P: Â¿Hay tests?
**R:** JAJAJAJAJAJA... no.

### P: Â¿DocumentaciÃ³n adicional?
**R:** Este README es todo lo que hay. Y los comentarios en el cÃ³digo.

### P: Â¿Puedo refactorizar esto?
**R:** Puedes. Pero cada cambio tiene el potencial de romper 3 cosas mÃ¡s. Procede con extrema precauciÃ³n.

---

##  Consejos de Supervivencia

### 1. **Usa Git religiosamente**
```bash
git commit -m "Funcionaba antes de este cambio"
```

### 2. **MantÃ©n copias de seguridad de la BD**
Supabase puede ser tu amigo o tu peor enemigo.

### 3. **Documenta TODO cambio**
```python
# NOTA: AgreguÃ© este try-except porque el sistema explotaba
# cuando el usuario presionaba Escape en el diÃ¡logo
# Fecha: 2025-01-25
# Autor: [Tu nombre aquÃ­, para que te culpen despuÃ©s]
```

### 4. **Aprende a depurar con prints**
PyQt6 no tiene un debugger amigable. Los prints son tu mejor amigo

### 5. **No asumas NADA**
- Â¿Ese widget existe? Verifica con `hasattr()`
- Â¿Esa lista tiene elementos? Verifica con `if lista:`
- Â¿Ese diccionario tiene esa clave? Usa `.get()`

### 6. **MantÃ©n un diario de cambios**
```markdown
## 2025-01-25
- ArreglÃ© el bug de los checkboxes
- ROMPÃ la actualizaciÃ³n de grados
- PasÃ© 3 horas debuggeando
- Finalmente funcionÃ³
- No sÃ© por quÃ©
```

### 7. **Conoce las partes crÃ­ticas**

**ğŸŸ¡ ZONA DE PRECAUCIÃ“N:**
- Cualquier funciÃ³n `load_*()` - Recargan datos completos
- Cualquier funciÃ³n `filter_*()` - Iteran sobre TODAS las filas
- `perform_search()` - Tiene un timer de por medio

## ğŸ“ Lecciones Aprendidas (de la manera difÃ­cil)

1. **PyQt6 no actualiza automÃ¡ticamente**
   - Debes llamar explÃ­citamente a `update()`, `repaint()`, o recargar widgets

2. **Los lambdas en QTimer son peligrosas**
   - Capturan referencias, no valores
   - Usa `.copy()` o variables locales

3. **No confÃ­es en que los widgets existen**
   - Usa `hasattr()` SIEMPRE

4. **El CSS inline es un infierno**
   - Pero cambiarlo ahora romperÃ­a TODO

5. **La documentaciÃ³n es crÃ­tica**
   - Este README existe porque sufrimos

---

## ğŸš€ Si vas a extender el sistema...

### Para agregar una nueva entidad (ej: "Cursos"):

1. **Crea la tabla en Supabase** âœ…
2. **Agrega mÃ©todos en `supabase_client.py`** âœ…
```python
   def get_all_cursos(self)
   def add_curso(self, data)
   def update_curso(self, id, data)
   def delete_curso(self, id)
```

3. **Crea un diÃ¡logo en `models/dialogs.py`** âœ…
```python
   class CursoDialog(QDialog):
       # Copia la estructura de EstudianteDialog
```

4. **Agrega pestaÃ±a en `main_window.py`** âœ…
```python
   def create_cursos_tab(self):
       # Copia la estructura de create_estudiantes_tab()
```

5. **Implementa las funciones CRUD** âœ…
```python
   def add_curso(self)
   def edit_curso(self, curso)
   def delete_curso(self, id)
   def load_cursos(self)
```

6. **REZA para que funcione** 

## Soporte (o falta de Ã©l)

**Â¿Tienes un bug?**
1. Verifica que no estÃ© en la lista de "Bugs Conocidos"
2. Agrega `print()` statements EVERYWHERE
3. Lee el stack trace completo
4. Google es tu amigo
5. Stack Overflow es tu salvador
6. Si nada funciona, llora un poco
7. Luego vuelve al paso 2

**Â¿Quieres contactar al desarrollador original?**
- Buena suerte con eso.


##  Palabras Finales

Este cÃ³digo es como una torre de Jenga: cada pieza sostiene a tres mÃ¡s. Retira la pieza equivocada y todo colapsa.

**Pero aquÃ­ estÃ¡s**, leyendo este README, probablemente porque:
- Te asignaron mantener esto
- Heredaste este proyecto
- Eres el nuevo "el que sabe de programaciÃ³n"
- Cometiste algÃºn pecado en una vida pasada

Sea cual sea la razÃ³n, **bienvenido al equipo**. 

Somos sobrevivientes. Somos guerreros. Somos los que mantienen vivo este cÃ³digo contra todo pronÃ³stico.

**Cuando te toque pasarle esto a alguien mÃ¡s, actualiza este README.**

AÃ±ade tus propias batallas. Documenta tus propias pesadillas. Y sobre todo, sÃ© honesto sobre las atrocidades que cometiste para hacer que "funcionara".

Porque el prÃ³ximo desarrollador te lo agradecerÃ¡.

O al menos sabrÃ¡ a quÃ© se enfrenta.

---

## ğŸ“œ Licencia

**Licencia de Sufrimiento Compartido (LSC) v1.0**

Se permite:
- Usar este cÃ³digo
- Modificar este cÃ³digo
- Llorar por este cÃ³digo
- Maldecir este cÃ³digo

Se prohÃ­be:
- Culpar al prÃ³ximo mantenedor
- No documentar tus cambios
- Asumir que "funciona en mi mÃ¡quina" es suficiente
- Eliminar este README

---

**Ãšltima actualizaciÃ³n:** 25 de Enero, 2026
**Ãšltima vez que todo funcionÃ³ simultÃ¡neamente:** Â¿Alguna vez?


**Â¡BUENA SUERTE! Â¡LA VAS A NECESITAR!** 

*"En este cÃ³digo, no hay errores. Solo caracterÃ­sticas que aÃºn no entendemos."*
*- Desarrollador AnÃ³nimo, probablemente llorando*
